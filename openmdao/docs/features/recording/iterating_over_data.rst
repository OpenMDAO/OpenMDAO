.. _iterating_case_data:

**********************
Reading Recorded Cases
**********************

In the section on :ref:`Case Recording<saving_data>`, we saw some basic examples of using a
:class:`CaseReader<openmdao.recorders.sqlite_reader.SqliteCaseReader>` to inspect data from a
database file generated by a :class:`CaseRecorder<openmdao.recorders.case_recorder.CaseRecorder>`.
A `CaseReader` provides a number of ways to flexibly access the information that has been recorded.

Iterating Over Case Hierarchies
-------------------------------

A common approach to inspecting the recorded cases is to use the :code:`list_cases` method 
followed by :code:`get_case` on a case you want to see.

.. embed-code::
    openmdao.recorders.tests.test_sqlite_reader.TestFeatureSqliteReader.test_feature_list_cases
    :layout: code, output

Alternatively, if you just want to iterate over all the cases you can use the :code:`get_cases` method.

.. embed-code::
    openmdao.recorders.tests.test_sqlite_reader.TestFeatureSqliteReader.test_feature_get_cases
    :layout: code, output

By default, the :code:`list_cases` method will give a complete list of case names in the order in which 
the cases were executed and :code:`get_cases` will give a recursive nested dictionary of cases and their
child cases in the order in which they were executed.

The following example demonstrates selecting a case from a case list and processing a nested 
dictionary of its child cases.

.. embed-code::
    openmdao.recorders.tests.test_sqlite_reader.TestFeatureSqliteReader.test_feature_get_cases_nested
    :layout: code, output

Determining What Was Recorded
-----------------------------

The `CaseReader` provides methods to determine which objects in the original problem were responsible
for recording cases and what variables they recorded.  The :code:`list_sources` method will provide a 
list of the names of objects that are the sources of the recorded data in the file, and the complementary 
:code:`list_source_vars` method will provide a dictionary of the input and output variables recorded
by each of those sources.

.. embed-code::
    openmdao.recorders.tests.test_sqlite_reader.TestFeatureSqliteReader.test_feature_list_sources
    :layout: interleave
